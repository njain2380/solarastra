<!DOCTYPE html>
<html lang="en-IN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Solarastra India | Powering Every Indian Roof</title>
    <meta name="description" content="Switch to solar with Solarastra. Avail PM Surya Ghar subsidy, reduce electricity bills to zero, and get expert installation across India.">
    
    <!-- Google Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800&family=Poppins:wght@500;600;700&display=swap" rel="stylesheet">
    
    <!-- Font Awesome for Icons -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    
    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    
    <!-- Custom Config -->
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    colors: {
                        solar: {
                            50: '#FFFDE7',
                            100: '#FFF9C4',
                            400: '#FBC02D',
                            500: '#FF9800', // Deep Orange
                            600: '#F57C00',
                        },
                        navy: {
                            800: '#1A237E',
                            900: '#0D1B2A',
                        }
                    },
                    fontFamily: {
                        sans: ['Inter', 'sans-serif'],
                        heading: ['Poppins', 'sans-serif'],
                    }
                }
            }
        }
    </script>

    <style>
        /* Smooth Scroll */
        html {
            scroll-behavior: smooth;
        }
        
        /* Custom Animations */
        /* Note: We use a JS fallback to ensure opacity:1 if JS fails, 
           but for now we set opacity:0 and let the observer handle it. 
           Added a .no-js fallback concept in spirit by ensuring immediate load for hero. */
        .fade-in-up {
            opacity: 0;
            transform: translateY(20px);
            transition: opacity 0.6s ease-out, transform 0.6s ease-out;
        }
        
        .fade-in-up.visible {
            opacity: 1;
            transform: translateY(0);
        }

        /* Hero Background Pattern */
        .hero-bg {
            background-color: #0D1B2A;
            background-image: url("data:image/svg+xml,%3Csvg width='60' height='60' viewBox='0 0 60 60' xmlns='http://www.w3.org/2000/svg'%3E%3Cg fill='none' fill-rule='evenodd'%3E%3Cg fill='%23FF9800' fill-opacity='0.05'%3E%3Cpath d='M36 34v-4h-2v4h-4v2h4v4h2v-4h4v-2h-4zm0-30V0h-2v4h-4v2h4v4h2V6h4V4h-4zM6 34v-4H4v4H0v2h4v4h2v-4h4v-2H6zM6 4V0H4v4H0v2h4v4h2V6h4V4H6z'/%3E%3C/g%3E%3C/g%3E%3C/svg%3E");
        }

        .gradient-text {
            background: linear-gradient(to right, #FBC02D, #F57C00);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
        }
        
        /* Accordion Styles */
        .accordion-content {
            transition: max-height 0.3s ease-out, opacity 0.3s ease-out;
            max-height: 0;
            opacity: 0;
            overflow: hidden;
        }
        .accordion-item.active .accordion-content {
            max-height: 500px;
            opacity: 1;
        }
        .accordion-item.active .fa-chevron-down {
            transform: rotate(180deg);
        }

        /* Modal Styles */
        .modal {
            transition: opacity 0.3s ease;
        }
        .modal-content {
            transform: scale(0.95);
            transition: transform 0.3s ease;
        }
        .modal.open .modal-content {
            transform: scale(1);
        }
        
        /* Progress Bar Animation */
        .progress-bar {
            transition: width 1s ease-in-out;
        }
    </style>
</head>
<body class="font-sans text-gray-800 antialiased overflow-x-hidden">

    <!-- Navigation -->
    <nav class="fixed w-full z-50 bg-white/95 backdrop-blur-sm shadow-md transition-all duration-300" id="navbar">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="flex justify-between items-center h-20">
                <!-- Logo -->
                <div class="flex-shrink-0 flex items-center gap-2 cursor-pointer" onclick="window.scrollTo(0,0)">
                    <i class="fa-solid fa-solar-panel text-solar-500 text-3xl"></i>
                    <span class="font-heading font-bold text-2xl text-navy-900 tracking-tight">Solarastra</span>
                </div>

                <!-- Desktop Menu -->
                <div class="hidden md:flex items-center space-x-8">
                    <a href="#benefits" class="text-gray-700 hover:text-solar-600 font-medium transition">Benefits</a>
                    <a href="#subsidy" class="text-gray-700 hover:text-solar-600 font-medium transition">Govt Subsidy</a>
                    <a href="#calculator" class="text-gray-700 hover:text-solar-600 font-medium transition">Calculator</a>
                    <a href="#testimonials" class="text-gray-700 hover:text-solar-600 font-medium transition">Stories</a>
                    <a href="#contact" class="bg-solar-500 hover:bg-solar-600 text-white px-6 py-2.5 rounded-full font-bold shadow-lg transform hover:-translate-y-0.5 transition duration-200">
                        Get Free Quote
                    </a>
                </div>

                <!-- Mobile menu button -->
                <div class="md:hidden flex items-center">
                    <button id="mobile-menu-btn" class="text-gray-700 hover:text-solar-600 focus:outline-none">
                        <i class="fa-solid fa-bars text-2xl"></i>
                    </button>
                </div>
            </div>
        </div>

        <!-- Mobile Menu Panel -->
        <div id="mobile-menu" class="hidden md:hidden bg-white border-t border-gray-100 absolute w-full shadow-xl">
            <div class="px-4 pt-2 pb-6 space-y-2">
                <a href="#benefits" class="block px-3 py-2 text-base font-medium text-gray-700 hover:text-solar-600 hover:bg-solar-100 rounded-md">Benefits</a>
                <a href="#subsidy" class="block px-3 py-2 text-base font-medium text-gray-700 hover:text-solar-600 hover:bg-solar-100 rounded-md">Govt Subsidy</a>
                <a href="#calculator" class="block px-3 py-2 text-base font-medium text-gray-700 hover:text-solar-600 hover:bg-solar-100 rounded-md">Calculator</a>
                <a href="#testimonials" class="block px-3 py-2 text-base font-medium text-gray-700 hover:text-solar-600 hover:bg-solar-100 rounded-md">Stories</a>
                <a href="#contact" class="block mt-4 text-center bg-solar-500 text-white px-3 py-3 rounded-md font-bold">Get Free Quote</a>
            </div>
        </div>
    </nav>

    <!-- Hero Section -->
    <!-- Added ID hero-section to target specific loading behavior -->
    <section id="hero-section" class="relative pt-32 pb-20 lg:pt-48 lg:pb-32 hero-bg overflow-hidden">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 relative z-10">
            <div class="grid grid-cols-1 lg:grid-cols-2 gap-12 items-center">
                <!-- Text Content -->
                <div class="text-center lg:text-left fade-in-up hero-element">
                    <div class="inline-flex items-center px-4 py-2 rounded-full bg-solar-500/10 border border-solar-500/30 text-solar-500 font-semibold text-sm mb-6">
                        <i class="fa-solid fa-bolt mr-2"></i> Join the PM Surya Ghar Yojana Revolution
                    </div>
                    <h1 class="text-4xl lg:text-6xl font-heading font-extrabold text-white leading-tight mb-6">
                        Make Your Electricity Bill <br>
                        <span class="gradient-text">Zero Rupees.</span>
                    </h1>
                    <p class="text-lg text-gray-300 mb-8 max-w-2xl mx-auto lg:mx-0 leading-relaxed">
                        Harness the Indian sun to power your home. Get up to <span class="text-white font-bold">₹78,000 subsidy</span> directly from the government and secure your family against rising tariffs.
                    </p>
                    <div class="flex flex-col sm:flex-row gap-4 justify-center lg:justify-start">
                        <a href="#calculator" class="bg-solar-500 hover:bg-solar-600 text-white text-lg px-8 py-4 rounded-full font-bold shadow-[0_0_20px_rgba(255,152,0,0.4)] transition transform hover:scale-105">
                            Calculate Savings
                        </a>
                        <a href="#contact" class="bg-transparent border-2 border-white text-white hover:bg-white hover:text-navy-900 text-lg px-8 py-4 rounded-full font-bold transition">
                            Talk to Expert
                        </a>
                    </div>
                    <p class="mt-6 text-sm text-gray-400">
                        <i class="fa-solid fa-check-circle text-green-500 mr-1"></i> 25 Year Warranty
                        <span class="mx-2">|</span>
                        <i class="fa-solid fa-check-circle text-green-500 mr-1"></i> 0% Interest EMI Options
                    </p>
                </div>

                <!-- Hero Image Illustration -->
                <div class="relative fade-in-up delay-100 hidden lg:block hero-element">
                    <!-- Decorative blobs -->
                    <div class="absolute top-0 right-0 -mr-20 -mt-20 w-72 h-72 bg-solar-500 rounded-full mix-blend-multiply filter blur-3xl opacity-20 animate-blob"></div>
                    <div class="absolute -bottom-8 left-20 w-72 h-72 bg-purple-500 rounded-full mix-blend-multiply filter blur-3xl opacity-20 animate-blob animation-delay-2000"></div>
                    
                    <div class="relative rounded-2xl overflow-hidden shadow-2xl border-4 border-white/10">
                        <div class="bg-gray-800 h-[400px] w-full flex flex-col items-center justify-center text-gray-400 group relative">
                            <!-- Overlay Content simulating image -->
                            <img src="/api/placeholder/600/400" alt="Indian Home with Solar Panels" class="absolute inset-0 w-full h-full object-cover opacity-60">
                            <div class="z-10 text-center">
                                <i class="fa-solid fa-house-chimney text-6xl text-white mb-4"></i>
                                <h3 class="text-2xl font-bold text-white">Indian Roofs, Solar Proof.</h3>
                            </div>
                            <!-- Live Savings Badge -->
                            <div class="absolute bottom-6 right-6 bg-white p-4 rounded-xl shadow-lg animate-bounce z-20">
                                <p class="text-xs text-gray-500 uppercase font-bold">Est. Monthly Savings</p>
                                <p class="text-2xl font-bold text-green-600">₹3,500+</p>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Stats Section -->
    <section class="bg-white py-10 -mt-8 relative z-20 shadow-lg mx-4 lg:mx-12 rounded-xl border border-gray-100">
        <div class="grid grid-cols-2 md:grid-cols-4 gap-8 text-center divide-x divide-gray-100">
            <div class="p-4">
                <div class="text-4xl font-bold text-navy-900 mb-1">500+</div>
                <div class="text-sm text-gray-500 font-medium">Homes Solarised</div>
            </div>
            <div class="p-4">
                <div class="text-4xl font-bold text-solar-500 mb-1">₹10Cr+</div>
                <div class="text-sm text-gray-500 font-medium">Electricity Saved</div>
            </div>
            <div class="p-4">
                <div class="text-4xl font-bold text-navy-900 mb-1">25 Yrs</div>
                <div class="text-sm text-gray-500 font-medium">Performance Warranty</div>
            </div>
            <div class="p-4">
                <div class="text-4xl font-bold text-solar-500 mb-1">100%</div>
                <div class="text-sm text-gray-500 font-medium">Subsidy Assistance</div>
            </div>
        </div>
    </section>

    <!-- Benefits Section -->
    <section id="benefits" class="py-24 bg-gray-50">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="text-center max-w-3xl mx-auto mb-16 fade-in-up">
                <h2 class="text-base text-solar-600 font-bold tracking-wide uppercase">Why Choose Solarastra?</h2>
                <p class="mt-2 text-3xl leading-8 font-heading font-bold text-gray-900 sm:text-4xl">
                    Benefits Designed for Indian Homes
                </p>
                <p class="mt-4 text-xl text-gray-500">
                    From reducing heat on your top floor to earning from the DISCOM, the advantages go beyond just savings.
                </p>
            </div>

            <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8">
                <!-- Benefit 1 -->
                <div class="bg-white rounded-2xl p-8 shadow-sm hover:shadow-xl transition duration-300 border border-gray-100 fade-in-up">
                    <div class="w-14 h-14 bg-green-100 rounded-full flex items-center justify-center mb-6">
                        <i class="fa-solid fa-indian-rupee-sign text-2xl text-green-600"></i>
                    </div>
                    <h3 class="text-xl font-bold text-gray-900 mb-3">Reduce Bills by up to 90%</h3>
                    <p class="text-gray-600">
                        Stop paying high tiered tariffs. With a properly sized system, you can generate enough power to cover your ACs, geysers, and appliances, bringing your bill close to zero.
                    </p>
                </div>

                <!-- Benefit 2 -->
                <div class="bg-white rounded-2xl p-8 shadow-sm hover:shadow-xl transition duration-300 border border-gray-100 fade-in-up">
                    <div class="w-14 h-14 bg-blue-100 rounded-full flex items-center justify-center mb-6">
                        <i class="fa-solid fa-network-wired text-2xl text-blue-600"></i>
                    </div>
                    <h3 class="text-xl font-bold text-gray-900 mb-3">Net Metering Advantage</h3>
                    <p class="text-gray-600">
                        Don't waste excess energy. Export unused power to the grid during the day and get credits from your state DISCOM to offset your night usage.
                    </p>
                </div>

                <!-- Benefit 3 -->
                <div class="bg-white rounded-2xl p-8 shadow-sm hover:shadow-xl transition duration-300 border border-gray-100 fade-in-up">
                    <div class="w-14 h-14 bg-solar-100 rounded-full flex items-center justify-center mb-6">
                        <i class="fa-solid fa-hand-holding-dollar text-2xl text-solar-600"></i>
                    </div>
                    <h3 class="text-xl font-bold text-gray-900 mb-3">Govt. Subsidy Support</h3>
                    <p class="text-gray-600">
                        We handle the paperwork. Avail Central Financial Assistance (CFA) and state-specific incentives directly into your bank account.
                    </p>
                </div>

                <!-- Benefit 4 -->
                <div class="bg-white rounded-2xl p-8 shadow-sm hover:shadow-xl transition duration-300 border border-gray-100 fade-in-up">
                    <div class="w-14 h-14 bg-red-100 rounded-full flex items-center justify-center mb-6">
                        <i class="fa-solid fa-temperature-arrow-down text-2xl text-red-500"></i>
                    </div>
                    <h3 class="text-xl font-bold text-gray-900 mb-3">Passive Cooling Effect</h3>
                    <p class="text-gray-600">
                        Solar panels act as a shade for your roof, reducing the temperature of the room below by 4°C to 5°C during the harsh Indian summer.
                    </p>
                </div>

                <!-- Benefit 5 -->
                <div class="bg-white rounded-2xl p-8 shadow-sm hover:shadow-xl transition duration-300 border border-gray-100 fade-in-up">
                    <div class="w-14 h-14 bg-purple-100 rounded-full flex items-center justify-center mb-6">
                        <i class="fa-solid fa-chart-line text-2xl text-purple-600"></i>
                    </div>
                    <h3 class="text-xl font-bold text-gray-900 mb-3">High ROI & Property Value</h3>
                    <p class="text-gray-600">
                        With an ROI of 25-30%, your system pays for itself in 3-4 years. Plus, solar-equipped homes command higher resale value in the real estate market.
                    </p>
                </div>

                <!-- Benefit 6 -->
                <div class="bg-white rounded-2xl p-8 shadow-sm hover:shadow-xl transition duration-300 border border-gray-100 fade-in-up">
                    <div class="w-14 h-14 bg-teal-100 rounded-full flex items-center justify-center mb-6">
                        <i class="fa-solid fa-leaf text-2xl text-teal-600"></i>
                    </div>
                    <h3 class="text-xl font-bold text-gray-900 mb-3">Green India</h3>
                    <p class="text-gray-600">
                        Contribute to India's renewable goals. A 3kW system saves approximately 4 tons of CO2 annually—equivalent to planting 60 teak trees.
                    </p>
                </div>
            </div>
        </div>
    </section>

    <!-- Scheme Section (PM Surya Ghar) -->
    <section id="subsidy" class="py-20 bg-navy-900 text-white relative overflow-hidden">
        <div class="absolute top-0 right-0 w-1/2 h-full bg-navy-800 transform -skew-x-12 translate-x-20 opacity-50"></div>
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 relative z-10">
            <div class="flex flex-col md:flex-row items-center justify-between gap-12">
                <div class="md:w-1/2">
                    <div class="inline-block bg-solar-500 text-white text-xs font-bold px-3 py-1 rounded-sm mb-4">NOW ACTIVE</div>
                    <h2 class="text-3xl md:text-5xl font-heading font-bold mb-6">
                        PM Surya Ghar: <br>Muft Bijli Yojana
                    </h2>
                    <p class="text-gray-300 text-lg mb-6">
                        The subsidy is dynamic based on your system size. We calculate exactly how much Central Financial Assistance (CFA) you are eligible for.
                    </p>
                    <div class="bg-white/10 p-4 rounded-lg mb-6 border-l-4 border-solar-500">
                        <p class="text-sm font-mono text-gray-300">Subsidy Formula:</p>
                        <ul class="text-sm space-y-2 mt-2">
                            <li class="flex justify-between"><span>First 2 kW:</span> <span class="font-bold text-solar-400">₹30,000 / kW</span></li>
                            <li class="flex justify-between"><span>Additional 1 kW:</span> <span class="font-bold text-solar-400">₹18,000 / kW</span></li>
                            <li class="flex justify-between border-t border-gray-600 pt-2"><span>Maximum Cap:</span> <span class="font-bold text-green-400">₹78,000</span></li>
                        </ul>
                    </div>
                </div>
                <div class="md:w-1/3 bg-white/10 backdrop-blur-md p-8 rounded-2xl border border-white/20">
                    <div class="text-center">
                        <i class="fa-solid fa-hand-holding-dollar text-5xl text-solar-400 mb-4"></i>
                        <h3 class="text-xl font-bold mb-2">Easy Financing</h3>
                        <p class="text-sm text-gray-300 mb-4">
                            Avail loans from PSU banks at ~7% interest specifically for solar projects.
                        </p>
                        <a href="#calculator" class="text-solar-400 font-bold hover:underline">Calculate EMI in Report &rarr;</a>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Advanced Calculator Section -->
    <section id="calculator" class="py-24 bg-gray-50">
        <div class="max-w-6xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="text-center mb-12">
                <h2 class="text-3xl font-heading font-bold text-gray-900">Advanced Solar Calculator</h2>
                <p class="text-gray-500 mt-2">Get a detailed engineering & financial report</p>
            </div>

            <div class="bg-white rounded-3xl shadow-xl border border-gray-200 overflow-hidden flex flex-col lg:flex-row">
                
                <!-- Input Panel -->
                <div class="p-8 lg:w-1/2 bg-white">
                    <div class="flex justify-between items-center mb-6">
                        <h3 class="font-bold text-lg text-navy-900">Project Details</h3>
                        <div class="text-xs bg-solar-100 text-solar-600 px-2 py-1 rounded">Step 1 of 2</div>
                    </div>

                    <!-- Location & Radiation -->
                    <div class="mb-6">
                        <label class="block text-sm font-medium text-gray-700 mb-2">Location (for Radiation Analysis)</label>
                        <div class="flex gap-2">
                            <input type="text" id="locationInput" placeholder="Enter City or Pin Code" class="flex-1 px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-solar-500">
                            <button onclick="detectLocation()" class="bg-navy-900 text-white px-4 py-2 rounded-lg hover:bg-navy-800 transition text-sm" title="Use GPS">
                                <i class="fa-solid fa-crosshairs"></i> Detect
                            </button>
                        </div>
                        <p id="radiationStatus" class="text-xs text-gray-500 mt-1 italic">We use approximate solar irradiance data for India.</p>
                    </div>

                    <!-- Connection Type -->
                    <div class="mb-6">
                        <label class="block text-sm font-medium text-gray-700 mb-2">Connection Type</label>
                        <div class="grid grid-cols-2 gap-4">
                            <label class="cursor-pointer border border-gray-200 rounded-lg p-3 hover:border-solar-500 peer-checked:bg-solar-50 transition flex items-center justify-center gap-2">
                                <input type="radio" name="phase" value="1" checked class="accent-solar-600" onchange="updatePhaseWarning()">
                                <span>Single Phase (1Φ)</span>
                            </label>
                            <label class="cursor-pointer border border-gray-200 rounded-lg p-3 hover:border-solar-500 transition flex items-center justify-center gap-2">
                                <input type="radio" name="phase" value="3" class="accent-solar-600" onchange="updatePhaseWarning()">
                                <span>Three Phase (3Φ)</span>
                            </label>
                        </div>
                        <p id="phaseWarning" class="hidden text-xs text-red-500 mt-1">
                            <i class="fa-solid fa-circle-exclamation"></i> Single phase is usually limited to 5kW-7kW depending on state.
                        </p>
                    </div>

                    <!-- Bill Input -->
                    <div class="mb-6">
                        <div class="flex justify-between mb-2">
                            <label class="block text-sm font-medium text-gray-700">Electricity Bill</label>
                            <button onclick="toggleBillMode()" class="text-xs text-blue-600 hover:underline">Toggle Month-wise Input</button>
                        </div>
                        
                        <!-- Simple Mode -->
                        <div id="simpleBillMode">
                            <div class="relative rounded-md shadow-sm">
                                <div class="absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none">
                                    <span class="text-gray-500 sm:text-sm">₹</span>
                                </div>
                                <input type="number" id="avgBill" class="focus:ring-solar-500 focus:border-solar-500 block w-full pl-7 pr-12 sm:text-lg border-gray-300 rounded-md py-3" placeholder="Avg Monthly Bill (e.g. 2500)">
                            </div>
                        </div>

                        <!-- Advanced Mode (Hidden by default) -->
                        <div id="advancedBillMode" class="hidden space-y-2 bg-gray-50 p-4 rounded-lg border border-gray-200">
                            <p class="text-xs text-gray-500 mb-2">Enter bills for key seasons to estimate better:</p>
                            <div class="grid grid-cols-2 gap-2">
                                <input type="number" id="billSummer" placeholder="Summer (May) ₹" class="text-sm p-2 border rounded">
                                <input type="number" id="billWinter" placeholder="Winter (Jan) ₹" class="text-sm p-2 border rounded">
                            </div>
                        </div>
                        
                        <!-- Upload Bill Dummy -->
                        <div class="mt-3">
                            <label class="flex items-center gap-2 cursor-pointer text-xs text-gray-500 hover:text-solar-600">
                                <i class="fa-solid fa-paperclip"></i> Upload Bill (PDF/Image) for AI Analysis
                                <input type="file" class="hidden" onchange="alert('File uploaded! Our system will extract usage data in the detailed report.')">
                            </label>
                        </div>
                    </div>
                </div>

                <!-- Preview Panel -->
                <div class="p-8 lg:w-1/2 bg-navy-900 text-white flex flex-col justify-between relative overflow-hidden">
                    <div class="absolute top-0 right-0 -mr-20 -mt-20 w-64 h-64 bg-solar-500 rounded-full opacity-10 blur-3xl"></div>
                    
                    <div>
                        <h4 class="text-gray-400 text-xs uppercase tracking-widest mb-6">Quick Estimates</h4>
                        
                        <div class="grid grid-cols-2 gap-6 mb-8">
                            <div>
                                <p class="text-sm text-gray-400">Recommended Size</p>
                                <p class="text-3xl font-bold text-white"><span id="prevSize">0</span> <span class="text-lg font-normal text-solar-500">kW</span></p>
                            </div>
                            <div>
                                <p class="text-sm text-gray-400">Est. Subsidy</p>
                                <p class="text-3xl font-bold text-green-400">₹<span id="prevSubsidy">0</span></p>
                            </div>
                        </div>
                        
                        <div class="bg-white/5 rounded-lg p-4 border border-white/10">
                            <div class="flex justify-between items-center text-sm mb-2">
                                <span class="text-gray-300">Net Investment Cost</span>
                                <span class="font-bold">₹<span id="prevNetCost">0</span></span>
                            </div>
                            <div class="flex justify-between items-center text-sm">
                                <span class="text-gray-300">Payback Period</span>
                                <span class="font-bold text-solar-400"><span id="prevROI">0</span> Years</span>
                            </div>
                        </div>
                    </div>

                    <div class="mt-8">
                        <button onclick="generateReport()" class="w-full bg-solar-500 hover:bg-solar-600 text-white font-bold py-4 rounded-xl shadow-lg hover:shadow-solar-500/30 transition transform hover:-translate-y-1 flex justify-center items-center gap-2">
                            <span>Generate Detailed Report</span>
                            <i class="fa-solid fa-arrow-right"></i>
                        </button>
                        <p class="text-center text-xs text-gray-500 mt-3">Includes Loan Options, Generation Graphs & Environmental Impact</p>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Testimonials Section -->
    <section id="testimonials" class="py-24 bg-navy-900 text-white">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="text-center mb-16">
                <h2 class="text-3xl font-heading font-bold">Real Stories, Real Savings</h2>
                <p class="text-gray-400 mt-2">Join thousands of happy families across India</p>
            </div>

            <div class="grid grid-cols-1 md:grid-cols-3 gap-8">
                <!-- Card 1 -->
                <div class="bg-navy-800 p-8 rounded-2xl border border-gray-700 relative">
                    <i class="fa-solid fa-quote-left text-4xl text-solar-500 opacity-30 absolute top-4 left-4"></i>
                    <p class="text-gray-300 italic mb-6 relative z-10">"I was skeptical about the monsoon performance, but my bill has dropped from ₹4500 to just ₹150 even in rainy months. Solarastra team was very professional."</p>
                    <div class="flex items-center">
                        <div class="w-10 h-10 rounded-full bg-solar-500 flex items-center justify-center font-bold text-navy-900">R</div>
                        <div class="ml-3">
                            <h4 class="font-bold">Rajesh Kumar</h4>
                            <p class="text-xs text-gray-400">Pune, Maharashtra</p>
                        </div>
                    </div>
                </div>

                <!-- Card 2 -->
                <div class="bg-navy-800 p-8 rounded-2xl border border-gray-700 relative">
                    <i class="fa-solid fa-quote-left text-4xl text-solar-500 opacity-30 absolute top-4 left-4"></i>
                    <p class="text-gray-300 italic mb-6 relative z-10">"The subsidy process seemed complicated, but Solarastra handled all the paperwork. I received the ₹78,000 credit in my bank within 25 days."</p>
                    <div class="flex items-center">
                        <div class="w-10 h-10 rounded-full bg-green-500 flex items-center justify-center font-bold text-navy-900">P</div>
                        <div class="ml-3">
                            <h4 class="font-bold">Priya Sharma</h4>
                            <p class="text-xs text-gray-400">Jaipur, Rajasthan</p>
                        </div>
                    </div>
                </div>

                <!-- Card 3 -->
                <div class="bg-navy-800 p-8 rounded-2xl border border-gray-700 relative">
                    <i class="fa-solid fa-quote-left text-4xl text-solar-500 opacity-30 absolute top-4 left-4"></i>
                    <p class="text-gray-300 italic mb-6 relative z-10">"Installed a 5kW system for my parents' home. It serves as a great retirement investment. No more worrying about AC usage during summer."</p>
                    <div class="flex items-center">
                        <div class="w-10 h-10 rounded-full bg-blue-500 flex items-center justify-center font-bold text-white">A</div>
                        <div class="ml-3">
                            <h4 class="font-bold">Ankit Singh</h4>
                            <p class="text-xs text-gray-400">Chandigarh</p>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- FAQ Section -->
    <section id="faq" class="py-24 bg-white">
        <div class="max-w-3xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="text-center mb-12">
                <h2 class="text-3xl font-heading font-bold text-gray-900">Common Questions</h2>
                <p class="text-gray-500 mt-2">Get answers before you talk to us</p>
            </div>

            <div class="space-y-4">
                <!-- FAQ Item 1 -->
                <div class="accordion-item border border-gray-200 rounded-lg overflow-hidden">
                    <button class="w-full px-6 py-4 text-left bg-gray-50 hover:bg-gray-100 flex justify-between items-center transition" onclick="toggleAccordion(this)">
                        <span class="font-bold text-gray-800">Does solar work during monsoon or cloudy days?</span>
                        <i class="fa-solid fa-chevron-down text-gray-500 transition-transform duration-300"></i>
                    </button>
                    <div class="accordion-content bg-white">
                        <div class="px-6 py-4 text-gray-600">
                            Yes, solar panels work on daylight, not just direct heat. While generation drops to 20-30% during heavy rain, the "Net Metering" system ensures you can pull credits earned during sunny days to power your home during cloudy days.
                        </div>
                    </div>
                </div>

                <!-- FAQ Item 2 -->
                <div class="accordion-item border border-gray-200 rounded-lg overflow-hidden">
                    <button class="w-full px-6 py-4 text-left bg-gray-50 hover:bg-gray-100 flex justify-between items-center transition" onclick="toggleAccordion(this)">
                        <span class="font-bold text-gray-800">How much maintenance do panels need?</span>
                        <i class="fa-solid fa-chevron-down text-gray-500 transition-transform duration-300"></i>
                    </button>
                    <div class="accordion-content bg-white">
                        <div class="px-6 py-4 text-gray-600">
                            Very little. With no moving parts, they just need cleaning every 2-3 weeks to remove dust. In India, we recommend a simple water wash. We also offer annual maintenance packages for hassle-free performance.
                        </div>
                    </div>
                </div>

                <!-- FAQ Item 3 -->
                <div class="accordion-item border border-gray-200 rounded-lg overflow-hidden">
                    <button class="w-full px-6 py-4 text-left bg-gray-50 hover:bg-gray-100 flex justify-between items-center transition" onclick="toggleAccordion(this)">
                        <span class="font-bold text-gray-800">Will my roof get damaged during installation?</span>
                        <i class="fa-solid fa-chevron-down text-gray-500 transition-transform duration-300"></i>
                    </button>
                    <div class="accordion-content bg-white">
                        <div class="px-6 py-4 text-gray-600">
                            Not at all. We use specialized raised structures that do not require drilling into the slab itself in most cases, or we use proper waterproofing chemicals if anchoring is needed. Your roof remains 100% leak-proof.
                        </div>
                    </div>
                </div>

                <!-- FAQ Item 4 -->
                <div class="accordion-item border border-gray-200 rounded-lg overflow-hidden">
                    <button class="w-full px-6 py-4 text-left bg-gray-50 hover:bg-gray-100 flex justify-between items-center transition" onclick="toggleAccordion(this)">
                        <span class="font-bold text-gray-800">Can I run my AC on solar?</span>
                        <i class="fa-solid fa-chevron-down text-gray-500 transition-transform duration-300"></i>
                    </button>
                    <div class="accordion-content bg-white">
                        <div class="px-6 py-4 text-gray-600">
                            Absolutely. Most of our customers install 3kW to 5kW systems specifically to run 1.5-ton ACs. Since ACs are mostly used during the day (or offset by day credits), solar is the perfect solution for cooling.
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Detailed Report Modal (Hidden by Default) -->
    <div id="reportModal" class="fixed inset-0 z-[60] hidden overflow-y-auto bg-black/80 backdrop-blur-sm modal">
        <div class="flex min-h-screen items-center justify-center p-4">
            <div class="modal-content relative w-full max-w-5xl bg-white rounded-2xl shadow-2xl overflow-hidden">
                <!-- Modal Header -->
                <div class="bg-navy-900 text-white px-6 py-4 flex justify-between items-center">
                    <div class="flex items-center gap-3">
                        <i class="fa-solid fa-file-contract text-solar-500 text-xl"></i>
                        <h3 class="font-heading font-bold text-lg">Your Solar Blueprint</h3>
                    </div>
                    <button onclick="closeReport()" class="text-gray-400 hover:text-white transition">
                        <i class="fa-solid fa-xmark text-2xl"></i>
                    </button>
                </div>

                <!-- Modal Body -->
                <div class="flex flex-col md:flex-row h-full max-h-[85vh] overflow-y-auto md:overflow-hidden">
                    
                    <!-- Sidebar / Tabs -->
                    <div class="md:w-1/4 bg-gray-50 border-r border-gray-200 p-4 md:h-full md:overflow-y-auto">
                        <nav class="space-y-2">
                            <button onclick="switchTab('tab-overview')" class="w-full text-left px-4 py-3 rounded-lg bg-white shadow-sm border border-gray-200 font-bold text-navy-900 hover:bg-solar-50 transition active-tab" id="btn-tab-overview">
                                <i class="fa-solid fa-house-signal w-6 text-center"></i> Overview
                            </button>
                            <button onclick="switchTab('tab-financials')" class="w-full text-left px-4 py-3 rounded-lg hover:bg-gray-100 text-gray-600 transition" id="btn-tab-financials">
                                <i class="fa-solid fa-calculator w-6 text-center"></i> Financials & Loan
                            </button>
                            <button onclick="switchTab('tab-generation')" class="w-full text-left px-4 py-3 rounded-lg hover:bg-gray-100 text-gray-600 transition" id="btn-tab-generation">
                                <i class="fa-solid fa-chart-area w-6 text-center"></i> Generation Analysis
                            </button>
                            <button onclick="switchTab('tab-banks')" class="w-full text-left px-4 py-3 rounded-lg hover:bg-gray-100 text-gray-600 transition" id="btn-tab-banks">
                                <i class="fa-solid fa-building-columns w-6 text-center"></i> Bank Offers
                            </button>
                        </nav>
                        
                        <div class="mt-8 bg-blue-50 p-4 rounded-lg border border-blue-100">
                            <h5 class="font-bold text-blue-800 text-sm mb-2">Did you know?</h5>
                            <p class="text-xs text-blue-600">Solar panels degrade only 0.5% per year. Your system will still produce ~80% power in Year 25.</p>
                        </div>
                    </div>

                    <!-- Content Area -->
                    <div class="md:w-3/4 p-6 md:p-8 overflow-y-auto md:h-full bg-white">
                        
                        <!-- TAB: Overview -->
                        <div id="tab-overview" class="tab-content block animate-fadeIn">
                            <div class="flex justify-between items-start mb-6 border-b border-gray-100 pb-4">
                                <div>
                                    <h2 class="text-2xl font-bold text-gray-900">System Summary</h2>
                                    <p class="text-gray-500 text-sm" id="reportLocationDisplay">Based on location: Detecting...</p>
                                </div>
                                <div class="text-right">
                                    <div class="text-sm text-gray-500">System Size</div>
                                    <div class="text-3xl font-bold text-solar-600" id="reportSize">0 kW</div>
                                </div>
                            </div>

                            <div class="grid grid-cols-1 md:grid-cols-3 gap-6 mb-8">
                                <div class="bg-gray-50 p-4 rounded-xl border border-gray-200">
                                    <div class="text-gray-500 text-sm mb-1">Roof Area Required</div>
                                    <div class="font-bold text-lg"><span id="reportArea">0</span> sq.ft</div>
                                    <div class="text-xs text-gray-400 mt-1">Shadow-free area</div>
                                </div>
                                <div class="bg-gray-50 p-4 rounded-xl border border-gray-200">
                                    <div class="text-gray-500 text-sm mb-1">Annual Generation</div>
                                    <div class="font-bold text-lg"><span id="reportUnits">0</span> Units</div>
                                    <div class="text-xs text-gray-400 mt-1">Approximate</div>
                                </div>
                                <div class="bg-gray-50 p-4 rounded-xl border border-gray-200">
                                    <div class="text-gray-500 text-sm mb-1">CO₂ Offset</div>
                                    <div class="font-bold text-lg text-green-600"><span id="reportCO2">0</span> Tons</div>
                                    <div class="text-xs text-gray-400 mt-1">Over 25 years</div>
                                </div>
                            </div>

                            <div class="bg-green-50 border border-green-200 rounded-xl p-6">
                                <h3 class="font-bold text-green-800 mb-2"><i class="fa-solid fa-leaf mr-2"></i>Environmental Impact</h3>
                                <p class="text-sm text-green-700 mb-4">Installing this system is equivalent to:</p>
                                <div class="flex gap-8">
                                    <div class="flex items-center gap-3">
                                        <div class="w-10 h-10 bg-white rounded-full flex items-center justify-center shadow-sm">
                                            <i class="fa-solid fa-tree text-green-500"></i>
                                        </div>
                                        <div>
                                            <div class="font-bold text-gray-800" id="reportTrees">0</div>
                                            <div class="text-xs text-gray-500">Trees Planted</div>
                                        </div>
                                    </div>
                                    <div class="flex items-center gap-3">
                                        <div class="w-10 h-10 bg-white rounded-full flex items-center justify-center shadow-sm">
                                            <i class="fa-solid fa-car text-blue-500"></i>
                                        </div>
                                        <div>
                                            <div class="font-bold text-gray-800" id="reportKm">0</div>
                                            <div class="text-xs text-gray-500">Km Not Driven</div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <!-- TAB: Financials -->
                        <div id="tab-financials" class="tab-content hidden animate-fadeIn">
                            <h2 class="text-2xl font-bold text-gray-900 mb-6">Cost & Subsidy Breakdown</h2>
                            
                            <div class="relative pt-1">
                                <div class="overflow-hidden h-4 mb-4 text-xs flex rounded bg-gray-200">
                                    <div style="width: 70%" class="shadow-none flex flex-col text-center whitespace-nowrap text-white justify-center bg-navy-900" title="Net Cost"></div>
                                    <div style="width: 30%" class="shadow-none flex flex-col text-center whitespace-nowrap text-white justify-center bg-green-500" title="Subsidy"></div>
                                </div>
                                <div class="flex justify-between text-xs text-gray-500 mb-6">
                                    <div class="flex items-center gap-2"><div class="w-3 h-3 bg-navy-900 rounded-sm"></div> Your Investment</div>
                                    <div class="flex items-center gap-2"><div class="w-3 h-3 bg-green-500 rounded-sm"></div> Govt. Subsidy</div>
                                </div>
                            </div>

                            <table class="w-full mb-8 text-sm">
                                <tr class="border-b border-gray-100">
                                    <td class="py-3 text-gray-600">Estimated Project Cost (Market Avg)</td>
                                    <td class="py-3 text-right font-medium">₹<span id="finTotal">0</span></td>
                                </tr>
                                <tr class="border-b border-gray-100 bg-green-50/50">
                                    <td class="py-3 text-green-700 pl-2">Less: PM Surya Ghar Subsidy</td>
                                    <td class="py-3 text-right font-bold text-green-600">- ₹<span id="finSubsidy">0</span></td>
                                </tr>
                                <tr class="border-b border-gray-200">
                                    <td class="py-4 font-bold text-navy-900 text-lg">Net Payable Cost</td>
                                    <td class="py-4 text-right font-bold text-navy-900 text-lg">₹<span id="finNet">0</span></td>
                                </tr>
                            </table>

                            <div class="bg-gray-50 p-6 rounded-xl border border-gray-200">
                                <div class="flex justify-between items-center mb-4">
                                    <h3 class="font-bold text-gray-800">EMI Calculator</h3>
                                    <span class="text-xs bg-blue-100 text-blue-800 px-2 py-1 rounded">Interest ~8.5%</span>
                                </div>
                                <div class="mb-4">
                                    <label class="block text-sm text-gray-600 mb-1">Loan Tenure: <span id="tenureVal" class="font-bold">5</span> Years</label>
                                    <input type="range" min="1" max="10" value="5" class="w-full h-2 bg-gray-200 rounded-lg appearance-none cursor-pointer accent-solar-600" id="tenureSlider" oninput="updateEMI()">
                                </div>
                                <div class="flex justify-between items-end">
                                    <div>
                                        <p class="text-sm text-gray-500">Est. Monthly EMI</p>
                                        <p class="text-2xl font-bold text-navy-900">₹<span id="emiVal">0</span></p>
                                    </div>
                                    <div class="text-right">
                                        <p class="text-sm text-gray-500">vs Current Bill</p>
                                        <p class="text-xl font-bold text-red-500 line-through">₹<span id="compareBill">0</span></p>
                                    </div>
                                </div>
                                <p class="text-xs text-green-600 mt-2 font-medium"><i class="fa-solid fa-arrow-trend-up"></i> Your EMI is likely lower than or equal to your current bill!</p>
                            </div>
                        </div>

                        <!-- TAB: Generation -->
                        <div id="tab-generation" class="tab-content hidden animate-fadeIn">
                            <h2 class="text-2xl font-bold text-gray-900 mb-2">Generation vs Usage</h2>
                            <p class="text-sm text-gray-500 mb-8">Understanding "Net Metering" - How your bank of energy works.</p>

                            <div class="space-y-6">
                                <!-- Month Mockup -->
                                <div class="relative h-64 border-l border-b border-gray-300 flex items-end justify-between px-2 pb-0">
                                    <!-- Bars generated via JS ideally, simplified here -->
                                    <div class="w-full flex justify-around h-full items-end gap-2" id="graphContainer">
                                        <!-- Bars will be injected by JS -->
                                    </div>
                                    <!-- Labels -->
                                    <div class="absolute -left-8 top-1/2 -rotate-90 text-xs text-gray-400">Units (kWh)</div>
                                </div>
                                <div class="flex justify-center gap-6 text-xs font-bold text-gray-600">
                                    <div class="flex items-center gap-2"><div class="w-3 h-3 bg-solar-500"></div> Solar Generation</div>
                                    <div class="flex items-center gap-2"><div class="w-3 h-3 bg-navy-900"></div> Consumption</div>
                                </div>

                                <div class="bg-yellow-50 p-4 rounded-lg border border-yellow-200 text-sm">
                                    <p><strong>Note:</strong> During summer months (Mar-May), your generation peaks. Excess units are "banked" with the DISCOM and adjusted against your usage in monsoon/winter months.</p>
                                </div>
                            </div>
                        </div>

                        <!-- TAB: Banks -->
                        <div id="tab-banks" class="tab-content hidden animate-fadeIn">
                            <h2 class="text-2xl font-bold text-gray-900 mb-6">PSU Bank Financing</h2>
                            <p class="text-gray-600 mb-6 text-sm">Under PM Surya Ghar, several banks offer concessional interest rates. Here are the top partners:</p>

                            <div class="space-y-4">
                                <!-- Bank 1 -->
                                <div class="flex items-center justify-between p-4 border border-gray-200 rounded-xl hover:shadow-md transition">
                                    <div class="flex items-center gap-4">
                                        <div class="w-12 h-12 bg-blue-100 rounded-full flex items-center justify-center text-blue-800 font-bold">SBI</div>
                                        <div>
                                            <h4 class="font-bold text-gray-900">SBI Surya Ghar Loan</h4>
                                            <p class="text-xs text-gray-500">No processing fee for up to 3kW</p>
                                        </div>
                                    </div>
                                    <div class="text-right">
                                        <div class="text-lg font-bold text-navy-900">7.0%</div>
                                        <div class="text-xs text-gray-500">Interest p.a.</div>
                                    </div>
                                </div>

                                <!-- Bank 2 -->
                                <div class="flex items-center justify-between p-4 border border-gray-200 rounded-xl hover:shadow-md transition">
                                    <div class="flex items-center gap-4">
                                        <div class="w-12 h-12 bg-yellow-100 rounded-full flex items-center justify-center text-yellow-800 font-bold">PNB</div>
                                        <div>
                                            <h4 class="font-bold text-gray-900">PNB Solar Scheme</h4>
                                            <p class="text-xs text-gray-500">Quick sanction via JanSamarth</p>
                                        </div>
                                    </div>
                                    <div class="text-right">
                                        <div class="text-lg font-bold text-navy-900">7.15%</div>
                                        <div class="text-xs text-gray-500">Interest p.a.</div>
                                    </div>
                                </div>

                                <!-- Bank 3 -->
                                <div class="flex items-center justify-between p-4 border border-gray-200 rounded-xl hover:shadow-md transition">
                                    <div class="flex items-center gap-4">
                                        <div class="w-12 h-12 bg-blue-50 rounded-full flex items-center justify-center text-blue-600 font-bold">CB</div>
                                        <div>
                                            <h4 class="font-bold text-gray-900">Canara Bank</h4>
                                            <p class="text-xs text-gray-500">Flexible repayment tenure</p>
                                        </div>
                                    </div>
                                    <div class="text-right">
                                        <div class="text-lg font-bold text-navy-900">7.25%</div>
                                        <div class="text-xs text-gray-500">Interest p.a.</div>
                                    </div>
                                </div>
                            </div>
                            
                            <div class="mt-6 text-center">
                                <a href="https://api.solarrooftop.gov.in/VendorList/financialAssistanceReport" target="_blank" class="text-solar-600 font-bold text-sm hover:underline">
                                    View Official Govt List <i class="fa-solid fa-external-link-alt ml-1"></i>
                                </a>
                            </div>
                        </div>

                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Contact Form Section -->
    <section id="contact" class="py-24 bg-gray-50">
        <div class="max-w-5xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="bg-solar-50 rounded-3xl p-8 md:p-12 shadow-inner border border-solar-100 flex flex-col md:flex-row gap-12">
                <div class="md:w-1/2">
                    <h2 class="text-3xl font-heading font-bold text-navy-900 mb-4">Start Your Savings Journey</h2>
                    <p class="text-gray-600 mb-8">Ready to switch? Fill the form to get a free callback within 2 hours. Our experts will help you understand the subsidy process.</p>
                    
                    <div class="space-y-4">
                        <div class="flex items-center">
                            <i class="fa-solid fa-phone w-10 text-solar-600 text-xl"></i>
                            <span class="text-gray-800 font-medium">+91 98765 43210</span>
                        </div>
                        <div class="flex items-center">
                            <i class="fa-solid fa-envelope w-10 text-solar-600 text-xl"></i>
                            <span class="text-gray-800 font-medium">hello@solarastra.in</span>
                        </div>
                        <div class="flex items-center">
                            <i class="fa-solid fa-location-dot w-10 text-solar-600 text-xl"></i>
                            <span class="text-gray-800 font-medium">Tech Park, Bengaluru / Cyber City, Gurugram</span>
                        </div>
                    </div>
                </div>

                <div class="md:w-1/2 bg-white p-8 rounded-2xl shadow-lg">
                    <form class="space-y-4" onsubmit="event.preventDefault(); alert('Thank you! Our expert will call you shortly.');">
                        <div>
                            <label class="block text-sm font-medium text-gray-700 mb-1">Full Name</label>
                            <input type="text" required class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-solar-500 focus:border-transparent">
                        </div>
                        <div>
                            <label class="block text-sm font-medium text-gray-700 mb-1">Phone Number</label>
                            <input type="tel" pattern="[0-9]{10}" required placeholder="+91" class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-solar-500 focus:border-transparent">
                        </div>
                        <div>
                            <label class="block text-sm font-medium text-gray-700 mb-1">State / City</label>
                            <input type="text" required class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-solar-500 focus:border-transparent">
                        </div>
                        <button type="submit" class="w-full bg-navy-900 hover:bg-navy-800 text-white font-bold py-3 rounded-lg transition transform active:scale-95">
                            Request Callback
                        </button>
                    </form>
                </div>
            </div>
        </div>
    </section>

    <!-- Footer -->
    <footer class="bg-navy-900 text-gray-400 py-12 border-t border-gray-800">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 grid grid-cols-1 md:grid-cols-4 gap-8 mb-8">
            <div class="col-span-1 md:col-span-2">
                <div class="flex items-center gap-2 mb-4 text-white">
                    <i class="fa-solid fa-solar-panel text-solar-500 text-2xl"></i>
                    <span class="font-heading font-bold text-xl">Solarastra</span>
                </div>
                <p class="text-sm max-w-sm">
                    Solarastra is India's leading rooftop solar solution provider.
                </p>
            </div>
            <div>
                <h4 class="text-white font-bold mb-4">Quick Links</h4>
                <ul class="space-y-2 text-sm">
                    <li><a href="#" class="hover:text-solar-500">About Us</a></li>
                    <li><a href="#subsidy" class="hover:text-solar-500">Government Subsidy</a></li>
                    <li><a href="#" class="hover:text-solar-500">Commercial Solar</a></li>
                </ul>
            </div>
            <div>
                <h4 class="text-white font-bold mb-4">Follow Us</h4>
                <div class="flex space-x-4">
                    <a href="#" class="text-2xl hover:text-solar-500"><i class="fa-brands fa-facebook"></i></a>
                    <a href="#" class="text-2xl hover:text-solar-500"><i class="fa-brands fa-instagram"></i></a>
                </div>
            </div>
        </div>
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 text-center text-xs border-t border-gray-800 pt-8">
            &copy; 2024 Solarastra Energy Pvt Ltd. All rights reserved. <br>
            *Subsidy amounts are subject to Government approval and policy changes. Savings are estimates.
        </div>
    </footer>

    <!-- JavaScript Logic -->
    <script>
        // Global Calculation Variables
        let currentSystemSize = 0;
        let currentLocationFactor = 1.0; // Default factor
        let currentBillAvg = 0;
        let netCost = 0;

        // Document Ready / Init Logic
        document.addEventListener('DOMContentLoaded', () => {
            
            // 1. Hero Visibility Failsafe
            // Immediately force hero elements to be visible in case Observer is slow
            setTimeout(() => {
                const heroElements = document.querySelectorAll('.hero-element');
                heroElements.forEach(el => el.classList.add('visible'));
            }, 50);

            // 2. Intersection Observer for other elements
            const observer = new IntersectionObserver((entries) => {
                entries.forEach(entry => {
                    if (entry.isIntersecting) {
                        entry.target.classList.add('visible');
                    }
                });
            }, { threshold: 0.1 });

            document.querySelectorAll('.fade-in-up').forEach((el) => observer.observe(el));
        });

        // Mobile Menu
        const btn = document.getElementById('mobile-menu-btn');
        const menu = document.getElementById('mobile-menu');
        if(btn && menu) {
            btn.addEventListener('click', () => { menu.classList.toggle('hidden'); });
        }

        // Accordion Logic
        function toggleAccordion(button) {
            const item = button.parentElement;
            
            // Close other items
            document.querySelectorAll('.accordion-item').forEach(otherItem => {
                if (otherItem !== item) {
                    otherItem.classList.remove('active');
                }
            });

            // Toggle current
            item.classList.toggle('active');
        }

        // Bill Mode Toggle
        function toggleBillMode() {
            document.getElementById('simpleBillMode').classList.toggle('hidden');
            document.getElementById('advancedBillMode').classList.toggle('hidden');
        }

        // Location Simulation (Mocking Google Solar API)
        function detectLocation() {
            const btn = document.querySelector('button[title="Use GPS"]');
            btn.innerHTML = '<i class="fa-solid fa-spinner fa-spin"></i> Detecting...';
            
            // Simulating API delay
            setTimeout(() => {
                // Mock logic: randomly assign a high radiation zone to show capabilities
                const locations = [
                    { city: "Jaipur", factor: 1.2, name: "High Radiation Zone" },
                    { city: "Bangalore", factor: 1.1, name: "Moderate-High Radiation" },
                    { city: "Mumbai", factor: 1.0, name: "Moderate Radiation" }
                ];
                const mock = locations[Math.floor(Math.random() * locations.length)];
                
                document.getElementById('locationInput').value = mock.city;
                document.getElementById('radiationStatus').innerHTML = `<span class="text-green-600 font-bold"><i class="fa-solid fa-sun"></i> ${mock.name} detected.</span> Efficiency factor adjusted to ${mock.factor}x.`;
                currentLocationFactor = mock.factor;
                
                btn.innerHTML = '<i class="fa-solid fa-check"></i> Found';
                // Trigger calculation update if bill exists
                calculatePreviews();
            }, 1500);
        }

        // Phase Warning Logic
        function updatePhaseWarning() {
            const phase = document.querySelector('input[name="phase"]:checked').value;
            // Re-run sizing logic to check if warning needed
            calculatePreviews(); 
        }

        // Main Calculation Logic
        const billInput = document.getElementById('avgBill');
        if(billInput) {
            billInput.addEventListener('input', calculatePreviews);
        }

        function calculatePreviews() {
            const bill = parseFloat(document.getElementById('avgBill').value);
            if (!bill) return;
            currentBillAvg = bill;

            // 1. Calculate Recommended Size
            // Avg Cost ₹8/unit. 1kW ~ 120 units/month (base).
            const unitsNeeded = bill / 8;
            let rawSize = unitsNeeded / (120 * currentLocationFactor); 
            
            // Round up to nearest 0.5
            currentSystemSize = Math.ceil(rawSize * 2) / 2;
            if(currentSystemSize < 1) currentSystemSize = 1;

            // Phase Check Logic
            const phase = document.querySelector('input[name="phase"]:checked').value;
            const warningEl = document.getElementById('phaseWarning');
            if(phase === '1' && currentSystemSize > 5) {
                warningEl.classList.remove('hidden');
                warningEl.innerHTML = `<i class="fa-solid fa-circle-exclamation"></i> System size ${currentSystemSize}kW usually requires a 3-Phase connection.`;
            } else {
                warningEl.classList.add('hidden');
            }

            // 2. Calculate Subsidy (PM Surya Ghar Formula)
            let subsidy = 0;
            if (currentSystemSize <= 2) {
                subsidy = currentSystemSize * 30000;
            } else if (currentSystemSize <= 3) {
                subsidy = 60000 + ((currentSystemSize - 2) * 18000);
            } else {
                subsidy = 78000; // Cap
            }

            // 3. Est Project Cost (Market avg ₹50k - ₹60k per kW depending on size)
            // Smaller systems cost more per kW
            let costPerKw = currentSystemSize > 3 ? 55000 : 65000; 
            let totalCost = currentSystemSize * costPerKw;
            netCost = totalCost - subsidy;

            // 4. ROI (Simple Payback)
            // Annual savings = Bill * 12 (assuming nearly 0 bill)
            const annualSavings = bill * 12;
            const roiYears = (netCost / annualSavings).toFixed(1);

            // Update UI Previews
            document.getElementById('prevSize').innerText = currentSystemSize;
            document.getElementById('prevSubsidy').innerText = subsidy.toLocaleString('en-IN');
            document.getElementById('prevNetCost').innerText = netCost.toLocaleString('en-IN');
            document.getElementById('prevROI').innerText = roiYears;
        }

        // Report Modal Functions
        function generateReport() {
            if(!currentSystemSize || currentSystemSize === 0) {
                alert("Please enter a bill amount first.");
                document.getElementById('avgBill').focus();
                return;
            }

            // Populate Report Data
            const locationName = document.getElementById('locationInput').value || "Default India Avg";
            document.getElementById('reportLocationDisplay').innerText = `Location Basis: ${locationName} (${currentLocationFactor}x Rad.)`;
            document.getElementById('reportSize').innerText = currentSystemSize + " kW";
            document.getElementById('reportArea').innerText = (currentSystemSize * 100).toFixed(0); // ~100sqft per kW
            document.getElementById('reportUnits').innerText = (currentSystemSize * 4 * 365 * currentLocationFactor).toFixed(0);
            
            // Env Impact
            const annualCO2 = (currentSystemSize * 4 * 365 * 0.82) / 1000; // 0.82kg per unit
            const lifetimeCO2 = annualCO2 * 25;
            document.getElementById('reportCO2').innerText = lifetimeCO2.toFixed(1);
            document.getElementById('reportTrees').innerText = (lifetimeCO2 * 15).toFixed(0); // arbitrary multiplier
            document.getElementById('reportKm').innerText = (lifetimeCO2 * 1000 * 5).toFixed(0);

            // Financials
            let costPerKw = currentSystemSize > 3 ? 55000 : 65000; 
            let totalCost = currentSystemSize * costPerKw;
            let subsidy = 0;
            if (currentSystemSize <= 2) subsidy = currentSystemSize * 30000;
            else if (currentSystemSize <= 3) subsidy = 60000 + ((currentSystemSize - 2) * 18000);
            else subsidy = 78000;
            
            document.getElementById('finTotal').innerText = totalCost.toLocaleString('en-IN');
            document.getElementById('finSubsidy').innerText = subsidy.toLocaleString('en-IN');
            document.getElementById('finNet').innerText = (totalCost - subsidy).toLocaleString('en-IN');
            document.getElementById('compareBill').innerText = currentBillAvg.toLocaleString('en-IN');

            // Draw Graph (CSS Bars)
            drawGraph();

            // Initial EMI Calc
            updateEMI();

            // Show Modal
            document.getElementById('reportModal').classList.remove('hidden');
            setTimeout(() => document.getElementById('reportModal').classList.add('open'), 10);
            
            // Default Tab
            switchTab('tab-overview');
        }

        function closeReport() {
            document.getElementById('reportModal').classList.remove('open');
            setTimeout(() => document.getElementById('reportModal').classList.add('hidden'), 300);
        }

        function switchTab(tabId) {
            // Hide all
            document.querySelectorAll('.tab-content').forEach(el => el.classList.add('hidden'));
            document.querySelectorAll('nav button').forEach(el => el.classList.remove('bg-white', 'shadow-sm', 'border-gray-200', 'font-bold', 'text-navy-900'));
            
            // Show Target
            document.getElementById(tabId).classList.remove('hidden');
            
            // Style Button
            const btnId = 'btn-' + tabId;
            const btn = document.getElementById(btnId);
            btn.classList.add('bg-white', 'shadow-sm', 'border-gray-200', 'font-bold', 'text-navy-900');
            btn.classList.remove('text-gray-600', 'hover:bg-gray-100');
        }

        function updateEMI() {
            const P = netCost; // Principal
            const r = 7.5 / (12 * 100); // 7.5% Annual Interest (PSU avg)
            const years = parseInt(document.getElementById('tenureSlider').value);
            const n = years * 12; // Months

            const emi = (P * r * Math.pow(1 + r, n)) / (Math.pow(1 + r, n) - 1);
            
            document.getElementById('tenureVal').innerText = years;
            document.getElementById('emiVal').innerText = emi.toFixed(0);
        }

        function drawGraph() {
            const container = document.getElementById('graphContainer');
            container.innerHTML = '';
            
            // Mock Data Generation vs Consumption
            const months = ['J','F','M','A','M','J','J','A','S','O','N','D'];
            // Generate sinusoidal solar curve peaking in May
            months.forEach((m, i) => {
                let solarH = 40 + (Math.sin((i/11)*Math.PI) * 50); // Peak middle
                let usageH = 30 + (Math.sin(((i+2)/13)*Math.PI) * 40); // Usage peak slightly offset
                
                // Adjust for monsoon (July/Aug dip)
                if(i === 6 || i === 7) solarH *= 0.6; 

                const barGroup = document.createElement('div');
                barGroup.className = 'h-full flex gap-1 items-end w-4 md:w-8';
                
                const barSolar = document.createElement('div');
                barSolar.className = 'w-1/2 bg-solar-500 rounded-t-sm';
                barSolar.style.height = solarH + '%';
                
                const barUsage = document.createElement('div');
                barUsage.className = 'w-1/2 bg-navy-900 rounded-t-sm';
                barUsage.style.height = usageH + '%';

                barGroup.appendChild(barSolar);
                barGroup.appendChild(barUsage);
                container.appendChild(barGroup);
            });
        }
    </script>
</body>
</html>
